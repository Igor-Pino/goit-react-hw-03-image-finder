(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,r){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1enzk",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1PsrL"}},14:function(e,t,r){e.exports={Button:"Button_Button__2-Iel",Svg:"Button_Svg__cKhIe"}},15:function(e,t,r){e.exports={Overlay:"Modal_Overlay__nIzba",Modal:"Modal_Modal__1Lae_"}},25:function(e,t,r){e.exports={ImageGallery:"ImageGallery_ImageGallery__3JpFz"}},28:function(e,t,r){e.exports={Loader:"Loader_Loader__3NZCy"}},29:function(e,t,r){e.exports={Plug:"Plug_Plug__3--bf"}},34:function(e,t,r){},76:function(e,t,r){"use strict";r.r(t);var a,n=r(0),o=r.n(n),c=r(11),l=r.n(c),i=(r(34),r(16)),s=r(4),u=r(5),h=r(7),g=r(6),m=r(8),d=r.n(m),p=["title","titleId"];function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f.apply(this,arguments)}function b(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function y(e,t){var r=e.title,o=e.titleId,c=b(e,p);return n.createElement("svg",f({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52.966 52.966",style:{enableBackground:"new 0 0 52.966 52.966"},xmlSpace:"preserve",ref:t,"aria-labelledby":o},c),r?n.createElement("title",{id:o},r):null,a||(a=n.createElement("path",{d:"M51.704,51.273L36.845,35.82c3.79-3.801,6.138-9.041,6.138-14.82c0-11.58-9.42-21-21-21s-21,9.42-21,21s9.42,21,21,21 c5.083,0,9.748-1.817,13.384-4.832l14.895,15.491c0.196,0.205,0.458,0.307,0.721,0.307c0.25,0,0.499-0.093,0.693-0.279 C52.074,52.304,52.086,51.671,51.704,51.273z M21.983,40c-10.477,0-19-8.523-19-19s8.523-19,19-19s19,8.523,19,19 S32.459,40,21.983,40z",fill:"black",stroke:"white",strokeWidth:.2})))}var j,v=n.forwardRef(y),O=(r.p,r(1)),w=function(e){Object(h.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.reset=function(){e.setState({query:""})},e.handelerChange=function(t){var r=t.currentTarget.value;e.setState({query:r})},e.handlerSubmit=function(t){t.preventDefault(),e.props.handlerSearcQuery(e.state),e.reset()},e}return Object(u.a)(r,[{key:"render",value:function(){var e=this.state.query;return Object(O.jsx)("header",{className:d.a.Searchbar,children:Object(O.jsxs)("form",{className:d.a.SearchForm,onSubmit:this.handlerSubmit,children:[Object(O.jsx)("button",{type:"submit",className:d.a.SearchForm_button,children:Object(O.jsx)(v,{width:"22",height:"22"})}),Object(O.jsx)("input",{className:d.a.SearchForm_input,value:e,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",onChange:this.handelerChange})]})})}}]),r}(n.Component),_=w,x=r(25),S=r.n(x),I=r(13),k=r.n(I),L=function(e){var t=e.imageUrl,r=e.openLarge;return Object(O.jsx)("li",{className:k.a.ImageGalleryItem,children:Object(O.jsx)("img",{src:t,alt:"",className:k.a.ImageGalleryItem_image,onClick:r})})},M=function(e){var t=e.images,r=e.largeImage;return Object(O.jsx)("ul",{className:S.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL;return Object(O.jsx)(L,{imageUrl:a,openLarge:function(){return r(n)}},t)}))})},C=r(14),F=r.n(C),N=["title","titleId"];function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},P.apply(this,arguments)}function B(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function E(e,t){var r=e.title,a=e.titleId,o=B(e,N);return n.createElement("svg",P({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 55.751 55.751",style:{enableBackground:"new 0 0 55.751 55.751"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},o),r?n.createElement("title",{id:a},r):null,j||(j=n.createElement("path",{d:"M31.836,43.006c0.282-0.281,0.518-0.59,0.725-0.912L54.17,20.485c2.107-2.109,2.109-5.528,0-7.638 c-2.109-2.107-5.527-2.109-7.638,0l-18.608,18.61L9.217,12.753c-2.109-2.108-5.527-2.109-7.637,0 C0.527,13.809-0.002,15.19,0,16.571c-0.002,1.382,0.527,2.764,1.582,3.816l21.703,21.706c0.207,0.323,0.445,0.631,0.729,0.913 c1.078,1.078,2.496,1.597,3.91,1.572C29.336,44.604,30.758,44.084,31.836,43.006z",fill:"",stroke:"white",strokeWidth:.2})))}var G=n.forwardRef(E),Q=(r.p,function(e){var t=e.loadMore;return Object(O.jsx)("button",{type:"button",onClick:t,className:F.a.Button,children:Object(O.jsx)(G,{className:F.a.Svg})})}),q=r(26),z=r.n(q),D=function(e){var t=e.searchQuery,r=void 0===t?"":t,a=e.page,n=void 0===a?1:a;return z.a.get("https://pixabay.com/api/?q=".concat(r,"&page=").concat(n,"&key=").concat("23521074-c1847750f84d7ba2d97c15f75","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},U=r(15),J=r.n(U),K=document.querySelector("#modal-root"),R=function(e){Object(h.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).hendelKeyDown=function(t){"Escape"===t.code&&e.props.showModal()},e.hendelBeckdropClick=function(t){t.currentTarget===t.target&&e.props.showModal()},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.hendelKeyDown),document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.hendelKeyDown),document.body.style.overflow=null}},{key:"render",value:function(){return Object(c.createPortal)(Object(O.jsx)("div",{className:J.a.Overlay,onClick:this.hendelBeckdropClick,children:Object(O.jsx)("div",{className:J.a.Modal,children:this.props.children})}),K)}}]),r}(n.Component),T=R,A=(r(54),r(27)),W=r.n(A),Z=r(28),H=r.n(Z),X=function(e){Object(h.a)(r,e);var t=Object(g.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(O.jsx)(W.a,{type:"ThreeDots",color:"#0e0e86",height:80,width:80,className:H.a.Loader})}}]),r}(n.Component),Y=r(29),V=r.n(Y),$=r.p+"static/media/plug.e0d78ff6.jpg",ee=function(){return Object(O.jsx)("div",{className:V.a.Plug,style:{backgroundImage:"url(".concat($,")")}})},te=function(e){Object(h.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={searchQuery:"",images:[],largeImage:"",page:1,isLoading:!1,showModal:!1,error:"",amount:""},e.reset=function(){e.setState({images:[],page:1})},e.fetchImages=function(){var t=e.state,r=t.page,a=t.searchQuery;e.setState({isLoading:!0}),D({page:r,searchQuery:a}).then((function(t){e.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(t)),page:e.page+1,amount:t.length}}))})).catch((function(t){return e.setState({error:"Picture not found"})})).finally((function(){return e.setState({isLoading:!1})}))},e.handlerSearcQuery=function(t){var r=t.query;e.setState({searchQuery:r})},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.getLargeImage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({largeImage:t}),e.toggleModal()},e}return Object(u.a)(r,[{key:"componentDidUpdate",value:function(e,t){t.searchQuery!==this.state.searchQuery&&(this.reset(),this.fetchImages()),2!==this.state.page&&t.page!==this.state.page&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.images,r=e.showModal,a=e.largeImage,n=e.isLoading,o=e.amount,c=e.page;return Object(O.jsxs)("div",{children:[Object(O.jsx)(_,{handlerSearcQuery:this.handlerSearcQuery}),0===t.length&&!n&&1!==c&&Object(O.jsx)(ee,{}),Object(O.jsx)(M,{images:t,largeImage:this.getLargeImage}),n&&Object(O.jsx)(X,{}),o>=11&&!n&&Object(O.jsx)(Q,{loadMore:this.fetchImages}),r&&Object(O.jsx)(T,{showModal:this.getLargeImage,children:Object(O.jsx)("img",{src:a,alt:""})})]})}}]),r}(n.Component),re=te;r(75);l.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(re,{})}),document.querySelector("#root"))},8:function(e,t,r){e.exports={Searchbar:"SearchForm_Searchbar__gyB4Z",SearchForm:"SearchForm_SearchForm__1eq66",SearchForm_button:"SearchForm_SearchForm_button__3bQPy",SearchForm_button_label:"SearchForm_SearchForm_button_label__3YHZU",SearchForm_input:"SearchForm_SearchForm_input__29JLx"}}},[[76,1,2]]]);
//# sourceMappingURL=main.59677c8c.chunk.js.map